{% extends 'base.html' %}

{% block content %}
<section class="new-blog-post-section">
    <div class="container">
        <h1 class="section-title">Edit Blog Post</h1>
        
        <div class="blog-post-navigation">
            <a href="{{ url_for('blog_post', slug=post.slug) }}" class="btn btn-outline"><i class="fas fa-arrow-left"></i> Back to Post</a>
        </div>
        
        <form class="blog-form" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" value="{{ post.title }}" required>
            </div>
            
            <div class="form-group">
                <label for="summary">Summary (optional)</label>
                <input type="text" id="summary" name="summary" value="{{ post.summary }}" placeholder="A brief description of your post">
            </div>
            
            <div class="form-group">
                <label for="content">Content</label>
                <textarea id="content" name="content" rows="12" required>{{ post.content }}</textarea>
                <p class="form-help">You can use HTML tags for formatting.</p>
            </div>
            
            <div class="form-group">
                <label for="image">Featured Image (optional)</label>
                {% if post.image_url %}
                <div class="current-image">
                    <p>Current image:</p>
                    <img src="{{ post.image_url }}" alt="{{ post.title }}" style="max-width: 200px; margin-bottom: 10px;">
                </div>
                {% endif %}
                <input type="file" id="image" name="image" accept="image/*">
                <p class="form-help">Upload a new image to replace the current one. Leave empty to keep current image.</p>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Update Post</button>
            </div>
        </form>
    </div>
</section>
{% endblock %}